(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a(139)},110:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),o=a.n(i),c=(a(110),a(10)),l=a(9),s=a(14),m=a(13),u=a(15),h=a(51),f=a.n(h),b=a(4),p=a(30),d=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"text-muted"},r.a.createElement(b.j,null,r.a.createElement("p",{className:"float-right"},r.a.createElement("a",{href:"#top"},"Back to top")),r.a.createElement("p",null,"Loot Chest \xa92019 ",r.a.createElement(p.a,{eventLabel:"myBlog",to:"https://valthonis.net"},"Duane Sibilly, II"),". Front-end built with ",r.a.createElement(p.a,{eventLabel:"react",to:"https://reactjs.org"},"React")," and ",r.a.createElement(p.a,{eventLabel:"shards-react",to:"https://designrevision.com/downloads/shards-react/"},"Shards"),".",r.a.createElement("br",null),r.a.createElement(p.a,{eventLabel:"ageOfTerror",to:"https://scottsgameroom.com/tag/age-of-terror/"},"Age of Terror")," content used with kind permission from ",r.a.createElement("a",{href:"https://twitter.com/scottboehmer"},"Scott Boehmer"),".")))}}]),t}(r.a.Component),E=a(24),x=a(26),g=function(e,t,a){p.b.event({action:t,category:e,label:a})},v=function(e){var t,a=e.item.affixes.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("strong",null,e.name,":")," ",e.description)});return r.a.createElement(b.d,null,r.a.createElement(b.f,null,e.item.name),r.a.createElement(b.e,null,r.a.createElement(b.g,null,"Magic ","string"!==typeof(t=e.item.itemType)?"":t.charAt(0).toUpperCase()+t.slice(1)),r.a.createElement("ul",null,a)))},y=a(48),O=a.n(y),j=a(76),k=function(){function e(){Object(c.a)(this,e),this.baseUrl=f.a.apiUrl,this.item={affixes:[],itemType:"Item",name:"Placeholder Item"}}return Object(l.a)(e,[{key:"getLoot",value:function(){var e=Object(j.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseUrl,"/loot")).then(function(e){return e.json()});case 2:return this.item=e.sent,e.abrupt("return",this.item);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createLoot",value:function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n,r,i,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.hasPrefix,n=t.hasSuffix,r=t.itemType,!t.randomAffixes){e.next=15;break}e.t0=r,e.next="amulet"===e.t0?5:"armor"===e.t0?5:"ring"===e.t0?5:"shield"===e.t0?5:"weapon"===e.t0?5:8;break;case 5:return i="".concat(this.baseUrl,"/loot/").concat(r),o="GET",e.abrupt("break",10);case 8:i="".concat(this.baseUrl,"/loot"),o="POST";case 10:return e.next=12,fetch(i,{headers:{"Content-Type":"application/json"},method:o}).then(function(e){return e.json()});case 12:this.item=e.sent,e.next=24;break;case 15:if("random"!==r){e.next=21;break}return e.next=18,fetch("".concat(this.baseUrl,"/loot"),{body:JSON.stringify({hasPrefix:a,hasSuffix:n}),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()});case 18:this.item=e.sent,e.next=24;break;case 21:return e.next=23,fetch("".concat(this.baseUrl,"/loot/").concat(r),{body:JSON.stringify({hasPrefix:a,hasSuffix:n}),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()});case 23:this.item=e.sent;case 24:return e.abrupt("return",this.item);case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).disableAffix=a.disableAffix.bind(Object(x.a)(a)),a.enableAffix=a.enableAffix.bind(Object(x.a)(a)),a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.lootService=new k,a.resetForm=a.resetForm.bind(Object(x.a)(a)),a.state={hasPrefix:!0,hasSuffix:!1,item:{affixes:[],itemType:"Item",name:"Placeholder Item"},itemType:"random",randomAffixes:!0},a.baseState=a.state,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"changeItemType",value:function(e){var t={itemType:e};this.setState(function(e){return Object(E.a)({},e,t)})}},{key:"componentDidMount",value:function(){var e=this;this.lootService.getLoot().then(function(t){var a={item:t};e.setState(function(e){return Object(E.a)({},e,a)})}).catch(console.error)}}]),Object(l.a)(t,[{key:"createLoot",value:function(){var e=this;g("LOOT","Loot item generated","LOOT_CHEST"),this.lootService.createLoot({hasPrefix:this.state.hasPrefix,hasSuffix:this.state.hasSuffix,itemType:this.state.itemType,randomAffixes:this.state.randomAffixes}).then(function(t){var a={item:t};e.setState(function(e){return Object(E.a)({},e,a)})}).catch(console.error)}},{key:"disableAffix",value:function(e){var t={};t[e]=!1,this.setState(function(e){return Object(E.a)({},e,t)})}},{key:"enableAffix",value:function(e){var t={};t[e]=!0,this.setState(function(e){return Object(E.a)({},e,t)})}},{key:"handleChange",value:function(e,t){var a={};a[t]=!this.state[t],this.setState(Object(E.a)({},this.state,a))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.j,null,r.a.createElement(b.u,{className:"generator-form"},r.a.createElement(b.h,null,r.a.createElement("h3",null,"Generate An Item"),r.a.createElement(b.k,null,r.a.createElement(b.m,null,r.a.createElement("label",{htmlFor:"select-item-type"},"Select Item Type (",r.a.createElement("em",null,"or not; I can pick for you!"),")"),r.a.createElement(b.o,{size:"lg",id:"select-item-type",name:"select-item-type",value:this.state.itemType,onChange:function(t){e.changeItemType(t.target.value)}},r.a.createElement("option",{value:"random"},"Random"),r.a.createElement("option",{value:"amulet"},"Amulet"),r.a.createElement("option",{value:"armor"},"Armor"),r.a.createElement("option",{value:"ring"},"Ring"),r.a.createElement("option",{value:"shield"},"Shield"),r.a.createElement("option",{value:"weapon"},"Weapon"))),r.a.createElement(b.j,null,r.a.createElement(b.u,null,r.a.createElement(b.h,{sm:"12",lg:"4"},r.a.createElement(b.m,null,r.a.createElement(b.l,{toggle:!0,checked:this.state.randomAffixes,onChange:function(t){return e.handleChange(t,"randomAffixes")}},"Generate Random Affixes?"))),r.a.createElement(b.h,{sm:"12",lg:"8"},r.a.createElement(b.i,{open:!this.state.randomAffixes},r.a.createElement(b.m,null,r.a.createElement("label",{htmlFor:"affixes"},"Select Affixes:"),r.a.createElement(b.n,{inline:!0,name:"affixes",checked:this.state.hasPrefix&&!this.state.hasSuffix,onChange:function(){e.enableAffix("hasPrefix"),e.disableAffix("hasSuffix")}},"Prefix"),r.a.createElement(b.n,{inline:!0,name:"affixes",checked:this.state.hasSuffix&&!this.state.hasPrefix,onChange:function(){e.enableAffix("hasSuffix"),e.disableAffix("hasPrefix")}},"Suffix"),r.a.createElement(b.n,{inline:!0,name:"affixes",checked:this.state.hasPrefix&&this.state.hasSuffix,onChange:function(){e.enableAffix("hasPrefix"),e.enableAffix("hasSuffix")}},"Both")))))),r.a.createElement(b.c,{className:"generate-buttons"},r.a.createElement(b.b,{size:"lg"},r.a.createElement(b.a,{onClick:function(t){t.preventDefault(),e.createLoot()}},"Generate Loot!"),r.a.createElement(b.a,{theme:"secondary",onClick:function(t){t.preventDefault(),e.resetForm()}},"Reset")))))),r.a.createElement(b.u,null,r.a.createElement(b.h,null,r.a.createElement("h3",null,"Your New Magic Item:"),r.a.createElement(v,{item:this.state.item}))))}},{key:"resetForm",value:function(){var e=this,t={item:this.state.item};g("LOOT","Generator form reset","LOOT_CHEST"),this.setState(function(a){return Object(E.a)({},e.baseState,t)})}}]),t}(r.a.Component),w=a(36),A=a(32),T=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"jumbotron text-center"},r.a.createElement(b.j,null,r.a.createElement("h1",{className:"jumbotron-heading"},r.a.createElement(A.a,{icon:w.b}),"\xa0 Loot Chest"),r.a.createElement("p",{className:"lead text-muted"},"Procedurally generated magic items for Green Ronin's Fantasy AGE, inspired by Blizzard's Diablo.")))}}]),t}(r.a.Component),C=a(78),L=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b.i,{className:"bg-dark",id:"navbarHeader",open:this.props.open},r.a.createElement(b.j,null,r.a.createElement(b.u,null,r.a.createElement(b.h,{sm:"12",lg:"9",py:"4"},r.a.createElement("h5",{className:"text-white"},"About"),r.a.createElement("p",{className:"text-muted"},"This is a magic item generator by Duane Sibilly for ",r.a.createElement("a",{href:"https://www.drivethrurpg.com/product/153066/Fantasy-AGE-Basic-Rulebook?affiliate_id=231748"},"Fantasy AGE")," based on ",r.a.createElement("a",{href:"https://scottsgameroom.com/2019/06/19/age-of-terror-magic-item-generator/"},"Scott Boehmer's Age of Terror"),".")),r.a.createElement(b.h,{sm:"12",lg:"3",py:"4"},r.a.createElement("h5",{className:"text-white"},"Duane Sibilly"),r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/valthonis",className:"text-white"},r.a.createElement(A.a,{icon:C.b}),"\xa0Twitter")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/dsibilly/loot-chest",className:"text-white"},r.a.createElement(A.a,{icon:C.a}),"\xa0GitHub")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://valthonis.net",className:"text-white"},r.a.createElement(A.a,{icon:w.a}),"\xa0Blog")))))))}}]),t}(r.a.Component),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).toggleAbout=a.toggleAbout.bind(Object(x.a)(a)),a.state={aboutOpen:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,{open:this.state.aboutOpen}),r.a.createElement(b.s,{type:"dark",theme:"dark",expand:"md"},r.a.createElement(b.t,{href:"#"},r.a.createElement(A.a,{icon:w.b}),"\xa0 Loot Chest"),r.a.createElement(b.p,{navbar:!0},r.a.createElement(b.q,null,r.a.createElement(b.r,{href:"#",onClick:this.toggleAbout},"About")))))}},{key:"toggleAbout",value:function(){this.setState(Object(E.a)({},this.state,{aboutOpen:!this.state.aboutOpen}))}}]),t}(r.a.Component),N=(a(136),a(137),a(138),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;e=f.a.googleAnalyticsCode,p.b.initialize(e),p.b.pageview(window.location.pathname+window.location.search)}},{key:"render",value:function(){return r.a.createElement(b.j,null,r.a.createElement(P,null),r.a.createElement(T,null),r.a.createElement(S,null),r.a.createElement(d,null))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t){e.exports={apiUrl:"https://lootchest.valthonis.net",googleAnalyticsCode:"UA-43560836-3"}}},[[105,1,2]]]);
//# sourceMappingURL=main.ce338a3a.chunk.js.map